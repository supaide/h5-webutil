/*!
 * h5-webutil v1.0.2 (https://github.com/supaide/h5-webutil/README.md)
 * Copyright 2018, cyij
 * MIT license
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["h5-webutil"]=n():t["h5-webutil"]=n()}("undefined"!=typeof self?self:this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";var r=function(t){if(!t)return"";var n=[];for(var e in t)n.push(e+"="+encodeURIComponent(t[e]));return n.join("&")},o=function(t){var n={},e=[];if(!t)return[e,n];var r=t.indexOf("#");r>-1&&(t=t.substr(0,r));var o=t.indexOf("?");e=t,o>-1?(e=t.substr(0,o),t=t.substr(o+1)):t="",e=e.split("/").filter(function(t){return t.length>0});for(var i=t.split("&"),u=0;u<i.length;u++){var f=i[u].split("=");2==f.length&&(n[f[0]]=decodeURIComponent(f[1]))}return[e,n]};n.a={encodeQuery:r,decodeQuery:o}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=(e(2),e(3)),o=e(4),i=e(0),u=e(5),f=e(6);e.d(n,"event",function(){return r.a}),e.d(n,"http",function(){return o.a}),e.d(n,"url",function(){return i.a}),e.d(n,"util",function(){return u.a}),e.d(n,"Validate",function(){return f.a})},function(t,n,e){"use strict";String.prototype.truncate=function(t,n){var e=this;if(n||(n="..."),t<n.length)return"";t-=n.length;for(var r=void 0,o=1,i=0,u=-1,f=0,a=0;a<e.length;a++)r=e[a].charCodeAt(),o=r<=127?1:2,i+=o,i>t?f+=o:u=a;return u<0?"":f<=n.length?e:e.substr(0,u+1)+n};String},function(t,n,e){"use strict";var r={},o=function(t,n){if(r[t])for(var e=0;e<r[t].length;e++)r[t][e].apply({},n)};n.a={on:function(t,n,e){r[t]||(r[t]=[]),e?r[t].push(function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];n.apply(e,r)}):r[t].push(n)},off:function(t,n){if(r[t])if(n){for(var e=0;e<r[t].length;e++)if(r[t][e]===n)return void r[t].splice(e,1)}else delete r[t]},emit:function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];o(t,e)},asyncEmit:function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];setTimeout(function(){o(t,e)},0)}}},function(t,n,e){"use strict";var r=(e(0),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),o={},i={},u=function(t){if(t.status>=200&&t.status<300)return t;var n=new Error(t.statusText);throw n.response=t,n},f=function(t,n,e,r,o){e.blob().then(function(o){var i=window.URL.createObjectURL(o);if("download"===t){var u=document.createElement("a");n=n||e.headers.get("Content-Disposition"),u.href=i,u.download=n,u.click()}r&&r(i),window.URL.revokeObjectURL(i)}).catch(function(t){o&&o(-1,t)})},a=function(t,n,e,a,c){"function"==typeof n&&(c=a,a=e,e=n,n=null),"object"===(void 0===e?"undefined":r(e))&&(c=e,e=null,a=null),"object"===(void 0===a?"undefined":r(a))&&(c=a,a=null),c=c||{},o.urlPrefix&&0!==t.indexOf("http")&&(t=o.urlPrefix+t);var l=t;if(!c.ignoreBlock){if(i[l])return;i[l]=1}var s=c.method?c.method.toUpperCase():"POST",d=c.credentials?c.credentials:"include",p=c.dataType?c.dataType:"json",y=void 0!==c.preProcess?c.preProcess:o.preProcess,h=!!c.blob&&c.blob,v=c.filename?c.filename:null;if(n=n||{},!c.ignoreDefaultParams&&o.defaultParams){var b=o.defaultParams()||{};for(var m in b)n[m]=b[m]}var g=new FormData;for(var j in n)if(Array.isArray(n[j]))for(var x=n[j],P=0;P<x.length;P++)g.append(j,x[P]);else g.append(j,n[j]);var S={method:s};if("POST"!==s&&"PUT"!==s&&"PATCH"!=s){var A=[],O=!0,w=!1,T=void 0;try{for(var C,U=g.entries()[Symbol.iterator]();!(O=(C=U.next()).done);O=!0){var _=C.value;A.push(_[0]+"="+_[1])}}catch(t){w=!0,T=t}finally{try{!O&&U.return&&U.return()}finally{if(w)throw T}}t.indexOf("?")>-1?t+="&"+A.join("&"):t+="?"+A.join("&")}else"POST"===s?S.body=g:(S.body=JSON.stringify(n),S.headers={"Content-Type":"application/json"}),S.credentials=d;var k=fetch(t,S).then(u);h?k=k.then(function(t){delete i[l],f(h,v,t,e,a)}):("text"===p?k=k.then(function(t){return t.text()}):"json"===p&&(k=k.then(function(t){return t.json()})),k=k.then(function(t){if(delete i[l],"function"==typeof y){var n=y(t,p,e,a);if(null===n)return;t=n}e&&e.apply({},[].concat(t))})),k.catch(function(t){delete i[l],a&&a(-1,t)})};a.config=function(t){o.preProcess=t.preProcess?t.preProcess:null,o.defaultParams=t.defaultParams?t.defaultParams:null,o.urlPrefix=t.urlPrefix?t.urlPrefix:null};var c=function(t,n){var e=[];if(t.length>0)for(var o=0;o<t.length;o++)e.push(t[o]);var i=e.slice(-1)[0];return"object"===(void 0===i?"undefined":r(i))?i.method=n:e.push({method:n}),e};a.get=function(){a.apply(this,c(arguments,"get"))},a.post=function(){a.apply(this,c(arguments,"post"))},a.put=function(){a.apply(this,c(arguments,"put"))},a.patch=function(){a.apply(this,c(arguments,"patch"))},a.delete=function(){a.apply(this,c(arguments,"delete"))},a.head=function(){a.apply(this,c(arguments,"head"))},a.options=function(){a.apply(this,c(arguments,"options"))},n.a=a},function(t,n,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function t(n,e,o){var i=!1;Array.isArray(n)&&(i=!0);for(var u in e)if(e.hasOwnProperty(u)){if(Array.isArray(o)&&o.indexOf(u)>=0||"string"==typeof o&&0===u.indexOf(o))continue;"object"!==r(e[u])||null===e[u]||void 0===e[u]?i?n.push(e[u]):n[u]=e[u]:(Array.isArray(e[u])?i?n.push([]):n[u]=[]:i?n.push({}):n[u]={},i?t(n[n.length-1],e[u]):t(n[u],e[u]))}},i=function(t,n){if("object"!==(void 0===t?"undefined":r(t))||null===t||void 0===t)return t;var e=void 0;return e=Array.isArray(t)?[]:{},o(e,t,n),e},u=function(t,n){var e={};return Object.keys(t).forEach(function(r){var o=t[r];null!==o&&void 0!==o&&(n||String(o).length>0)&&(e[r]=o)}),e};n.a={filterEmpty:u,clone:i}},function(t,n,e){"use strict";var r=e(7),o={email:r.b,mobile:r.h,idCard:r.d,length:r.e,equal:r.c,min:r.g,max:r.f,between:r.a,required:r.j,passwd:r.i},i=function(t,n,e,r){return"function"==typeof o[t]&&(r?null===n||void 0===n||("string"==typeof n&&n.length<1||Object.keys(n).length>0):o[t].apply({},[n,e]))};i.register=function(t,n){o[t]=n},n.a=i},function(t,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"h",function(){return u}),e.d(n,"d",function(){return f}),e.d(n,"e",function(){return a}),e.d(n,"c",function(){return c}),e.d(n,"g",function(){return l}),e.d(n,"f",function(){return s}),e.d(n,"a",function(){return d}),e.d(n,"j",function(){return p}),e.d(n,"i",function(){return y});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,n,e){return null!==t&&void 0!==t&&(void 0===n&&(n=0),void 0===e?t>=n:t>=n&&t<=e)},i=function(t,n){return!!t&&/^([a-zA-Z0-9]+[_|\_|\.-]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.-]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,6}$/.test(t)},u=function(t,n){return!!t&&/^1[3|4|5|7|8][0-9]\d{8}$/.test(t)},f=function(t,n){return!!t&&/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)},a=function(t,n){var e=void 0,r=void 0;return n&&n.length>0&&(e=n[0]),n&&n.length>1&&(r=n[1]),o(t,e,r)},c=function(t,n){return!(!n||n.length<1)&&o(t,n[0],n[0])},l=function(t,n){return!(!n||n.length<1)&&o(t,n[0])},s=function(t,n){return!(!n||n.length<1)&&o(t,void 0,n[0])},d=function(t,n){return!(!n||2!=n.length)&&o(t,n[0],n[1])},p=function(t,n){return null!==t&&void 0!==t&&("object"!==(void 0===t?"undefined":r(t))?o((""+t).length,1):Object.keys(t).length>0)},y=function(t,n){t=(t+"").trim();var e=8,r=20;n&&(n.length>0&&(e=n[0]-0),n.length>1&&(r=n[1]-0)),e<1&&(e=1);var o=t.length;return!(o<e||o>r)&&(t.toLowerCase()!=t&&!!t.match(/\d/))}}])});